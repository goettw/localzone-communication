<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" />
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>

<script th:replace="fragments/googlemaps :: googlemapsheader" />
<script src="//code.jquery.com/jquery-1.10.2.js"></script>

<link rel="stylesheet" href="css/styles.css" />

<link rel="stylesheet" href="css/localstyles.css" />
<script>
	$(function() { /* code here */
		google.maps.event.addDomListener(window, 'load', initialize);
	});
	function initialize() {
		longitude = document.getElementById('longitude').value;
		latitude = document.getElementById('latitude').value;
		console.log("latitude=" + latitude + "longitude=" + longitude);
		initializeMap(latitude, longitude, 14);
		setMarker(latitude, longitude);
	}
</script>
</head>
<body>
	<div th:replace="fragments/header :: header">test</div>
	<div class="container">
		<div class="row">
			<div class="col-md-6">
				<div class="panel panel-default">
					<div class="panel-heading clearfix"></div>
					<div class="panel-body">
						<form action="#" th:action="@{/savePlace}" th:object="${place}"
							method="post" accept-charset="utf-8">
							<div class="form-group">
								<label for="display_name" th:text="#{place.displayname}">Display
									Name</label> <input type="text" class="form-control"
									th:field="*{display_name}" />
							</div>
							<div class="form-group">
								<label for="City" th:text="#{place.city}">City</label> <input
									type="text" class="form-control" th:field="*{address.city}" />
							</div>
							<div class="form-group">
								<label for="Postcode" th:text="#{place.postcode}">Postcode</label>
								<input type="text" class="form-control"
									th:field="*{address.postcode}" />
							</div>
							<div class="form-group">
								<label for="Street" th:text="#{place.street}">Street</label> <input
									type="text" class="form-control" th:field="*{address.street}" />
								<label for="house_number" th:text="#{place.housenumber}">Street
									Number</label> <input type="text" class="form-control"
									th:field="*{address.house_number}" />
							</div>
							<p>
								<input class="btn btn-default" type="submit" value="Submit"
									th:value="#{general.save}" />
							</p>
							<div style="visibility: hidden;">
								<input id="longitude" th:field="*{lon}" /> <input id="latitude"
									th:field="*{lat}" />
							</div>
						</form>

					</div>
				</div>
			</div>
			<div class="col-md-3">
				<div id="map-canvas"></div>
			</div>
		</div>
	</div>

</body>
</html>