<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<th:block th:replace="fragments/googlemaps :: googlemapsheader" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<th:block th:replace="fragments/header :: standard-header" />

<script>
	$(function() { /* code here */
		google.maps.event.addDomListener(window, 'load', initialize);
	});
	function initialize() {
		longitude = document.getElementById('longitude').value;
		latitude = document.getElementById('latitude').value;
		console.log("latitude=" + latitude + "longitude=" + longitude);
		initializeMap(latitude, longitude, 14);
		setMarker(latitude, longitude);
	}
</script>
</head>
<body>
	<div th:replace="fragments/header :: header">test</div>
	<div id="wrapper">

		<div id="main-wrapper">
			<div id="main">
				<div class="container-fluid">
					<div class="row">
						<div class="col-md-6">
							<div class="panel panel-default">
								<div class="panel-heading clearfix">
									<h3 class="panel-title" th:text="#{placeEditTitle}"></h3>
								</div>
								<div class="panel-body">
									<form action="#" th:action="@{/savePlace}" th:object="${place}"
										method="post" accept-charset="utf-8" class="form">
										<div class="control-group">
											<label for="display_name" th:text="#{place.displayname}">Display
												Name</label>
											<div class="controls">
												<input type="text" class="form-control"
													th:field="*{display_name}" />
											</div>
										</div>
										<div class="control-group">
											<label for="City" th:text="#{place.city}">City</label>
											<div class="controls">
												<div class="row">
													<div class="col-md-4">
														<input type="text" class="form-control"
															th:field="*{address.postcode}" />
													</div>
													<div class="col-md-8">
														<input type="text" class="form-control"
															th:field="*{address.city}" />
													</div>
												</div>
											</div>
										</div>
										<div class="control-group">
											<label for="Street" th:text="#{place.street}">Street</label>
											<div class="row">
												<div class="col-md-8">
													<input type="text" class="form-control"
														th:field="*{address.street}" />
												</div>
												<div class="col-md-4">
													<input type="text" class="form-control"
														th:field="*{address.house_number}" />
												</div>
											</div>
										</div>
										
										
										<div class="control-group" style="margin-top:15px;">
										<div class="controls pull-right">
											<input class="btn btn-primary" name="cancel" type="submit" value="Submit"
												th:value="#{general.cancel}" />
											<input class="btn btn-primary" name="save" type="submit" value="Submit"
												th:value="#{general.save}" />
												</div>
										</div>
										<div style="visibility: hidden;">
											<input id="longitude" th:field="*{lon}" /> <input
												id="latitude" th:field="*{lat}" /> <input id="originId"
												th:field="*{originId}" /><input id="id" th:field="*{id}" />
										</div>
									</form>

								</div>
							</div>
						</div>
						<div class="col-md-3">
							<div class="panel panel-default">
								<div class="panel-heading clearfix"></div>
								<div class="panel-body">

									<div id="map-canvas"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

</body>
</html>